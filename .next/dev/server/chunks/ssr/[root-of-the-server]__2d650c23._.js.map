{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///H:/younes-translator/pages/index.js"],"sourcesContent":["import { useState } from \"react\";\r\nimport Head from \"next/head\";\r\n\r\nexport default function Home() {\r\n  const [text, setText] = useState(\"\");\r\n  const [target, setTarget] = useState(\"ar\");\r\n  const [result, setResult] = useState(\"\");\r\n  const [loading, setLoading] = useState(false);\r\n  const [showCorrectionPanel, setShowCorrectionPanel] = useState(false);\r\n  const [userCorrection, setUserCorrection] = useState(\"\");\r\n\r\n  const handleTranslate = async () => {\r\n    if (!text.trim()) {\r\n      setResult(\"Write something first.\");\r\n      return;\r\n    }\r\n\r\n    setLoading(true);\r\n    setResult(\"\");\r\n    setShowCorrectionPanel(false);\r\n    setUserCorrection(\"\");\r\n\r\n    try {\r\n      const res = await fetch(`/api/translate?text=${encodeURIComponent(text)}&target=${target}`);\r\n      const json = await res.json().catch(() => null);\r\n\r\n      if (!res.ok) {\r\n        const msg = json?.translation || json?.error || json?.message || \"Server error while translating\";\r\n        setResult(`Error: ${msg}`);\r\n        setLoading(false);\r\n        return;\r\n      }\r\n\r\n      const translation =\r\n        json?.translation ??\r\n        json?.translated ??\r\n        json?.translatedText ??\r\n        json?.result ??\r\n        json?.data?.translatedText ??\r\n        null;\r\n\r\n      if (translation) {\r\n        setResult(translation);\r\n      } else {\r\n        setResult(json ? `Unexpected response shape: ${JSON.stringify(json)}` : \"No translation returned\");\r\n      }\r\n    } catch (err) {\r\n      setResult(\"Error translating ðŸ’€ (Check your connection ðŸ‘»)\");\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  const handleSubmitCorrection = () => {\r\n    if (!userCorrection.trim()) {\r\n      alert(\"Nothing to submit!\");\r\n      return;\r\n    }\r\n\r\n    fetch(\"/api/submitCorrection\", {\r\n      method: \"POST\",\r\n      headers: { \"Content-Type\": \"application/json\" },\r\n      body: JSON.stringify({ original: text, user_translation: userCorrection })\r\n    })\r\n      .then(res => res.json())\r\n      .then(data => {\r\n        if (data.error) {\r\n          alert(\"Error submitting correction: \" + data.error);\r\n        } else {\r\n          alert(\"Correction submitted!\");\r\n          setShowCorrectionPanel(false);\r\n        }\r\n      })\r\n      .catch(() => alert(\"Network error!\"));\r\n  };\r\n\r\n  return (\r\n    <>\r\n      <Head>\r\n        <link\r\n          href=\"https://fonts.googleapis.com/css2?family=Cinzel:wght@400;700&family=Pacifico&display=swap\"\r\n          rel=\"stylesheet\"\r\n        />\r\n        <link rel=\"icon\" href=\"/favicon.ico\" />\r\n      </Head>\r\n\r\n      <div style={{\r\n        fontFamily: \"'Pacifico', serif\",\r\n        minHeight: \"100vh\",\r\n        display: \"flex\",\r\n        flexDirection: \"column\",\r\n        alignItems: \"center\",\r\n        justifyContent: \"center\",\r\n        backgroundColor: \"#F3F4F6\",\r\n        padding: 20\r\n      }}>\r\n        <div style={{ textAlign: \"center\", marginBottom: \"20px\" }}>\r\n          <img src=\"/logo.png\" alt=\"Logo\" style={{ width: \"90px\", marginBottom: \"10px\" }} />\r\n          <h1 style={{ fontSize: \"2.2rem\", color: \"#4F46E5\", fontWeight: \"700\" }}>âœ’ Younes Translator ðŸ“–</h1>\r\n        </div>\r\n\r\n        <div style={{\r\n          backgroundColor: \"#ffffff\",\r\n          padding: \"25px\",\r\n          borderRadius: \"15px\",\r\n          boxShadow: \"0 6px 15px rgba(0,0,0,0.1)\",\r\n          width: \"100%\",\r\n          maxWidth: \"540px\"\r\n        }}>\r\n          <textarea\r\n            style={{\r\n              width: \"80%\",\r\n              maxWidth: \"540px\",\r\n              margin: \"0 auto 15px\",\r\n              height: \"140px\",\r\n              padding: \"14px\",\r\n              borderRadius: \"12px\",\r\n              border: \"1px solid #6755cf\",\r\n              resize: \"vertical\",\r\n              fontSize: \"18px\",\r\n              fontFamily: \"'Cinzel', serif\",\r\n              display: \"block\",\r\n            }}\r\n            placeholder=\"Enter text to translate...\"\r\n            value={text}\r\n            onChange={(e) => setText(e.target.value)}\r\n            onKeyDown={(e) => {\r\n              if (e.key === \"Enter\" && !e.shiftKey) {\r\n                e.preventDefault();\r\n                handleTranslate();\r\n              }\r\n            }}\r\n          />\r\n\r\n          <div style={{ display: \"flex\", gap: 12, alignItems: \"center\", marginBottom: 15 }}>\r\n            <select\r\n              style={{\r\n                padding: \"10px\",\r\n                borderRadius: \"8px\",\r\n                border: \"1px solid #6755cf\",\r\n                width: \"170px\",\r\n                fontFamily: \"'Pacifico', serif\",\r\n                fontSize: \"16px\"\r\n              }}\r\n              value={target}\r\n              onChange={(e) => setTarget(e.target.value)}\r\n            >\r\n              <option value=\"ar\">Arabic ðŸ“—</option>\r\n              <option value=\"fr\">French ðŸ“˜</option>\r\n              <option value=\"en\">English ðŸ“™</option>\r\n            </select>\r\n\r\n            <button\r\n              onClick={handleTranslate}\r\n              disabled={loading}\r\n              style={{\r\n                padding: \"10px 18px\",\r\n                backgroundColor: loading ? \"#9be59a\" : \"#22c93b\",\r\n                color: \"#000\",\r\n                border: \"none\",\r\n                borderRadius: \"12px\",\r\n                cursor: loading ? \"default\" : \"pointer\",\r\n                fontWeight: 600,\r\n                fontSize: \"16px\",\r\n                fontFamily: \"'Cinzel', serif\"\r\n              }}\r\n            >\r\n              {loading ? \"Translatingâ€¦\" : \"Translate\"}\r\n            </button>\r\n\r\n            <button\r\n              onClick={() => { setText(\"\"); setResult(\"\"); setShowCorrectionPanel(false); setUserCorrection(\"\"); }}\r\n              style={{\r\n                padding: \"10px 14px\",\r\n                backgroundColor: \"#f3f4f6\",\r\n                border: \"1px solid #ddd\",\r\n                borderRadius: \"12px\",\r\n                cursor: \"pointer\",\r\n                fontFamily: \"'Cinzel', serif\",\r\n                fontSize: \"16px\"\r\n              }}\r\n            >\r\n              Clear\r\n            </button>\r\n          </div>\r\n\r\n          <div style={{\r\n            minHeight: \"90px\",\r\n            padding: \"14px\",\r\n            borderRadius: \"12px\",\r\n            border: \"1px solid #6755cf\",\r\n            backgroundColor: \"#e5e4f0\",\r\n            color: \"#111827\",\r\n            whiteSpace: \"pre-wrap\",\r\n            fontSize: \"18px\",\r\n            fontFamily: \"'Cinzel', serif\"\r\n          }}>\r\n            {result || <span style={{ color: \"#6b7280\" }}>Translation will appear here</span>}\r\n          </div>\r\n\r\n          {result && (\r\n            <button\r\n              onClick={() => { setUserCorrection(result); setShowCorrectionPanel(!showCorrectionPanel); }}\r\n              style={{\r\n                marginTop: \"10px\",\r\n                padding: \"9px 12px\",\r\n                borderRadius: \"15px\",\r\n                backgroundColor: \"#9bc7c7\",\r\n                border: \"1px solid #6755cf\",\r\n                cursor: \"pointer\",\r\n                fontFamily: \"'Cinzel', serif\",\r\n                fontSize: \"15px\",\r\n                fontWeight: \"700\"   // bolded button text\r\n              }}\r\n            >\r\n              Submit Correction ?\r\n            </button>\r\n          )}\r\n\r\n          {showCorrectionPanel && (\r\n            <div style={{\r\n              marginTop: \"10px\",\r\n              padding: \"10px\",\r\n              border: \"1px solid #ccc\",\r\n              borderRadius: \"10px\",\r\n              backgroundColor: \"#fff\",\r\n              width: \"100%\",\r\n              maxWidth: \"400px\"\r\n            }}>\r\n              <textarea\r\n                style={{\r\n                  width: \"100%\",\r\n                  height: \"60px\",\r\n                  padding: \"8px\",\r\n                  borderRadius: \"8px\",\r\n                  border: \"1px solid #888\",\r\n                  fontFamily: \"'Cinzel', serif\",\r\n                  fontSize: \"14px\",\r\n                  resize: \"vertical\"\r\n                }}\r\n                value={userCorrection}\r\n                onChange={(e) => setUserCorrection(e.target.value)}\r\n              />\r\n              <button\r\n                onClick={handleSubmitCorrection}\r\n                style={{\r\n                  marginTop: \"6px\",\r\n                  padding: \"6px 10px\",\r\n                  borderRadius: \"8px\",\r\n                  backgroundColor: \"#22c93b\",\r\n                  border: \"none\",\r\n                  cursor: \"pointer\",\r\n                  fontFamily: \"'Cinzel', serif\",\r\n                  fontSize: \"14px\",\r\n                  fontWeight: \"700\"\r\n                }}\r\n              >\r\n                Submit\r\n              </button>\r\n            </div>\r\n          )}\r\n\r\n        </div>\r\n      </div>\r\n    </>\r\n  );\r\n}\r\n"],"names":[],"mappings":"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","debugId":null}}]
}