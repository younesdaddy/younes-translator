{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Younes/younes-translator/pages/admin.js"],"sourcesContent":["import { useEffect, useState } from \"react\";\r\n\r\nexport default function Admin() {\r\n  const [password, setPassword] = useState(\"\");\r\n  const [authorized, setAuthorized] = useState(false);\r\n  const [pending, setPending] = useState([]);\r\n\r\n  // Password check\r\n  const checkPassword = () => {\r\n    if (password === \"Younesgdom\") { // <-- Change this to your desired password\r\n      setAuthorized(true);\r\n    } else {\r\n      alert(\"Wrong password!\");\r\n    }\r\n  };\r\n\r\n  // Fetch pending corrections\r\n  const fetchPending = async () => {\r\n    const res = await fetch(\"/api/getPendingCorrections\");\r\n    const data = await res.json();\r\n    setPending(data || []);\r\n  };\r\n\r\n  useEffect(() => {\r\n    if (authorized) fetchPending();\r\n  }, [authorized]);\r\n\r\n  const approve = async (item) => {\r\n    await fetch(\"/api/approveCorrection\", {\r\n      method: \"POST\",\r\n      headers: { \"Content-Type\": \"application/json\" },\r\n      body: JSON.stringify(item),\r\n    });\r\n    fetchPending();\r\n  };\r\n\r\n  const reject = async (item) => {\r\n    await fetch(\"/api/rejectCorrection\", {\r\n      method: \"POST\",\r\n      headers: { \"Content-Type\": \"application/json\" },\r\n      body: JSON.stringify(item),\r\n    });\r\n    fetchPending();\r\n  };\r\n\r\n  // If not authorized, show password input\r\n  if (!authorized) {\r\n    return (\r\n      <div style={{\r\n        display: \"flex\",\r\n        flexDirection: \"column\",\r\n        justifyContent: \"center\",\r\n        alignItems: \"center\",\r\n        minHeight: \"100vh\",\r\n        background: \"#f0f4f8\",\r\n        fontFamily: \"'Poppins', sans-serif\",\r\n        color: \"#333\"\r\n      }}>\r\n        <h2 style={{ marginBottom: 20 }}>Enter Admin Password</h2>\r\n        <input\r\n          type=\"password\"\r\n          value={password}\r\n          onChange={(e) => setPassword(e.target.value)}\r\n          placeholder=\"Password\"\r\n          style={{\r\n            padding: \"10px 15px\",\r\n            fontSize: 16,\r\n            borderRadius: 8,\r\n            border: \"1px solid #ccc\",\r\n            width: 250,\r\n            marginBottom: 15\r\n          }}\r\n          onKeyDown={(e) => { if (e.key === \"Enter\") checkPassword(); }}\r\n        />\r\n        <button\r\n          onClick={checkPassword}\r\n          style={{\r\n            padding: \"10px 20px\",\r\n            borderRadius: 8,\r\n            border: \"none\",\r\n            backgroundColor: \"#4f46e5\",\r\n            color: \"#fff\",\r\n            fontWeight: \"bold\",\r\n            cursor: \"pointer\"\r\n          }}\r\n        >\r\n          Enter\r\n        </button>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  // Admin panel\r\n  return (\r\n    <div style={{ padding: 30, fontFamily: \"'Poppins', sans-serif\", background: \"#f9fafb\", minHeight: \"100vh\" }}>\r\n      <h1 style={{ color: \"#4f46e5\", marginBottom: 20 }}>Pending Corrections</h1>\r\n      {pending.length === 0 && <p style={{ color: \"#555\" }}>No pending corrections</p>}\r\n      {pending.map((c, i) => (\r\n        <div key={i} style={{\r\n          marginBottom: 15,\r\n          border: \"1px solid #e5e7eb\",\r\n          borderRadius: 8,\r\n          padding: 15,\r\n          backgroundColor: \"#fff\",\r\n          boxShadow: \"0 2px 5px rgba(0,0,0,0.05)\"\r\n        }}>\r\n          <p><strong>Original:</strong> {c.original}</p>\r\n          <p><strong>Correction:</strong> {c.user_translation}</p>\r\n          <button onClick={() => approve(c)} style={{\r\n            marginRight: 10,\r\n            padding: \"5px 10px\",\r\n            borderRadius: 5,\r\n            border: \"none\",\r\n            backgroundColor: \"#10b981\",\r\n            color: \"#fff\",\r\n            cursor: \"pointer\"\r\n          }}>Approve</button>\r\n          <button onClick={() => reject(c)} style={{\r\n            padding: \"5px 10px\",\r\n            borderRadius: 5,\r\n            border: \"none\",\r\n            backgroundColor: \"#ef4444\",\r\n            color: \"#fff\",\r\n            cursor: \"pointer\"\r\n          }}>Reject</button>\r\n        </div>\r\n      ))}\r\n    </div>\r\n  );\r\n}\r\n"],"names":[],"mappings":"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","debugId":null}}]
}